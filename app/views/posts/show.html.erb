<div class="container text-center">
  <div class="row justify-content-center">
    <div class="col-md-8"> <!-- Cambia a col-md-8 para que la card sea más ancha -->
      <div class="card">
        <h4><%= @post.title %></h4>
        <h6><%= @post.author %></h6>
        <p><%= @post.content %></p>
        <p><%= @post.created_at %></p>

        <!-- Enlaces para editar y eliminar el post -->
        <% if user_signed_in? && @post.user == current_user %>
          <%= link_to 'Edit', edit_post_path(@post), class: 'btn btn-secondary btn-sm' %> <!-- Agrega btn-sm para reducir el tamaño del botón -->
          <%= link_to 'Delete Post', @post, method: :delete, data: { confirm: 'Are you sure you want to delete this post?' }, class: 'btn btn-danger btn-sm' %> <!-- Agrega btn-sm para reducir el tamaño del botón -->
        <% end %>
      </div>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-md-8"> <!-- Cambia a col-md-8 para que la tabla sea más ancha -->
      <h5>Comments</h5>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Author</th>
            <th scope="col">Comment</th>
            <th scope="col">Date</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
        <% @post.comments.each do |comment| %>    
          <tr> 
            <td> <%= comment.author %> </td>
            <td> <%= comment.content %> </td>
            <td> <%= comment.created_at %> </td>
            <td>
              <% if user_signed_in? && comment.user == current_user %>
                <%= link_to 'Edit', edit_post_comment_path(@post, comment), class: 'btn btn-secondary btn-sm' %> <!-- Agrega btn-sm para reducir el tamaño del botón -->
                <%= link_to 'Delete', [@post, comment], method: :delete, data: { confirm: 'Are you sure you want to delete this comment?' }, class: 'btn btn-danger btn-sm' %> <!-- Agrega btn-sm para reducir el tamaño del botón -->
              <% end %>
            </td>
          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <% if user_signed_in? %>
  <%= form_for([@post, @post.comments.build]) do |form| %>
    <div class="form-group">
      <%= form.text_area :content, placeholder: 'Escribe un comentario', class: 'form-control w-100' %>
    </div>
    <%= form.hidden_field :author, value: current_user.first_name + ' ' + current_user.last_name %>
    <%= form.hidden_field :user_id, value: current_user.id %>
    <div class="text-center">
      <%= form.submit 'Comentar', class: 'btn btn-primary' %>
    </div>
  <% end %>

  <% if @post.comments.build.errors.any? %>
    <ul>
      <% @post.comments.build.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  <% end %>
<% end %>